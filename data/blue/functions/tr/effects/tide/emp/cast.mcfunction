execute unless block ~ ~ ~ #blue:shared/passable align y positioned ~ ~21 ~ run function blue:tr/effects/tide/emp/tidal_surge
execute unless score #.tide.cancel blue.misc matches 1 positioned ~ ~-1 ~ if entity @s[distance=..128] run function blue:tr/effects/tide/emp/cast